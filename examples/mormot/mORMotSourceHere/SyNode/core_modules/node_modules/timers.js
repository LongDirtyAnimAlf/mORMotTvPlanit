/**
*  MPV - fake implementation of node.js timer
*  Just for xml2js work
*/
function Immediate() { }

function setImmediate(callback, arg1, arg2, arg3) {
  if (typeof callback !== 'function') {
    throw new TypeError('"callback" argument must be a function');
  }

  var i, args;
  var len = arguments.length;
  var immediate = new Immediate();

  switch (len) {
    // fast cases
    case 0:
    case 1:
      callback.call(immediate);
      break;
    case 2:
      callback.call(immediate, arg1);
      break;
    case 3:
      callback.call(immediate, arg1, arg2);
      break;
    case 4:
      callback.call(immediate, arg1, arg2, arg3);
      break;
    // slow case
    default:
      args = new Array(len - 1);
      for (i = 1; i < len; i++)
        args[i - 1] = arguments[i];

      callback.apply(immediate, args);
      break;
  }
}

module.exports = {
  setImmediate: setImmediate
}